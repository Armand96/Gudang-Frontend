<ion-content class="container-fluid">

    <div class="row d-flex justify-content-center m-2">
      <ion-card class="col-lg-5 p-0">
  
        <ion-card-header color="primary p-2">
          <ion-card-title>
            <h3 class="text-center">Barang Keluar</h3>
          </ion-card-title>
        </ion-card-header>
  
        <ion-card-content>
  
          <form [formGroup]="barangbarukeluar" (ngSubmit)="Simpan(barangbarukeluar.value)">
  
            <ion-item>
              <ion-label position="floating">Proyek</ion-label>
              <ion-input type="text" name="proyek" maxlength="30" clearInput formControlName="proyek" [disabled]="!editmode" required></ion-input>
            </ion-item>
  
            <ion-item>
              <ion-label position="floating">No Order</ion-label>
              <ion-input type="number" inputmode="numeric" name="no_order" min="0" clearInput formControlName="no_order" [disabled]="!editmode" required></ion-input>
            </ion-item>
  
            <ion-item>
              <ion-label position="floating">Bengkel</ion-label>
              <ion-input type="text" name="bengkel" maxlength="30" clearInput formControlName="bengkel" [disabled]="!editmode" required></ion-input>
            </ion-item>
  
            <ion-item>
              <ion-label position="floating">Pekerjaan</ion-label>
              <ion-input type="text" name="pekerjaan" maxlength="30" clearInput formControlName="pekerjaan" [disabled]="!editmode" required></ion-input>
            </ion-item>
  
            <ion-item>
              <ion-label position="floating">Kode Pekerjaan</ion-label>
              <ion-input type="number" inputmode="numeric" name="kode_pekerjaan" min="0" clearInput formControlName="kode_pekerjaan" [disabled]="!editmode" required></ion-input>
            </ion-item>
  
            <ion-item>
              <ion-label position="floating">Nomor Barang</ion-label>
              <!-- <ionic-selectable [canSearch]="true" searchPlaceholder="Cari berdasarkan Nomor Barang" formControlName="nomor_barang" name="nomor_barang" [items]="NomorBarang" itemValueField="nomor_barang" itemTextField="nomor_barang">
  
                <ng-template ionicSelectableCloseButtonTemplate >
                  <ion-icon name="close-circle"></ion-icon>
                </ng-template>
  
                <ng-template ionicSelectableItemTemplate let-nomor="item" >
                  {{nomor.nomor_barang}} - {{nomor.nama_barang}}
                </ng-template>
                
              </ionic-selectable> -->
              <ion-select placeholder="Nomor Barang" formControlName="nomor_barang" name="nomor_barang" required [disabled]="!editmode">
                <ion-select-option *ngFor="let item of NomorBarang" value="{{item.nomor_barang}}" > {{item.nomor_barang}} </ion-select-option>
              </ion-select>
            </ion-item>

            <ion-item>
              <ion-label position="floating">Tgl Keluar</ion-label>
              <ion-datetime displayFormat="DD MMMM YYYY" placeholder="Select Date" name="tgl_keluar" formControlName="tgl_keluar" required disabled></ion-datetime>
            </ion-item>
  
            <ion-item>
              <ion-label position="floating">Jumlah Keluar (Angka)</ion-label>
              <ion-input type="number" inputmode="numeric" name="jml_klr_angka" min="0" clearInput formControlName="jml_klr_angka" required disabled (change)="konversi(barangbarukeluar.value.jml_klr_angka)"></ion-input>
            </ion-item>
  
            <ion-item>
              <ion-label position="floating">Jumlah Keluar (Huruf)</ion-label>
              <ion-input type="text" name="jml_klr_huruf" clearInput formControlName="jml_klr_huruf" required disabled></ion-input>
            </ion-item>
  
            <ion-item>
              <ion-label position="floating">Jumlah Permintaan Keluar (Angka)</ion-label>
              <ion-input type="number" inputmode="numeric" name="jml_klr_permintaan_angka" min="0" clearInput formControlName="jml_klr_permintaan_angka" required disabled (change)="konversi2(barangbarukeluar.value.jml_klr_permintaan_angka)"></ion-input>
            </ion-item>
  
            <ion-item>
              <ion-label position="floating">Jumlah Permintaan Keluar (Huruf)</ion-label>
              <ion-input type="text" name="jml_klr_permintaan_huruf" clearInput formControlName="jml_klr_permintaan_huruf" required disabled></ion-input>
            </ion-item>
  
            <br>
  
            <ion-button expand="block" type="button" color="primary" [disabled]="editmode" (click)="editmode = true">
              Edit
            </ion-button>

            <ion-button expand="block" type="submit" color="primary" [disabled]="!barangbarukeluar.valid || !editmode">
              Simpan
            </ion-button>
  
          </form>
  
        </ion-card-content>
  
      </ion-card>
    </div>
    
  
  </ion-content>